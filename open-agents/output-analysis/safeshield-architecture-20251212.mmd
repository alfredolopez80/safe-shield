```mermaid
graph TB
    subgraph "User Layer"
        User[Treasury/Compliance Team]
        SafeUI[Safe Interface]
    end

    subgraph "Safe Shield Integration Layer"
        SafeContract[Safe Smart Account<br/>Multisig Contract]
        GuardHook[Transaction Guard Hook<br/>Pre/Post Execution]
    end

    subgraph "Hypernative Guardian Engine"
        Guardian[Guardian Service]
        Simulator[Transaction Simulator]
        AIEngine[AI/ML Detection Engine<br/>300+ Risk Types]
        PolicyEngine[Policy Enforcement Engine]
        RiskDB[(Risk Intelligence DB<br/>70+ Chains)]
    end

    subgraph "Hypernative Platform Services"
        Platform[Monitoring Platform]
        Screener[Address Screener]
        Templates[(250+ Risk Templates)]
    end

    subgraph "Blockchain Networks"
        ETH[Ethereum]
        L2[Layer 2s]
        Other[70+ Other Chains]
    end

    User -->|Initiate Transaction| SafeUI
    SafeUI -->|Submit to Safe| SafeContract
    SafeContract -->|Pre-execution Hook| GuardHook
    GuardHook -->|Send for Analysis| Guardian
    Guardian -->|Simulate| Simulator
    Simulator -->|Query Chain State| ETH
    Simulator -->|Query Chain State| L2
    Simulator -->|Query Chain State| Other
    Guardian -->|Analyze Risks| AIEngine
    AIEngine -->|Check Patterns| RiskDB
    AIEngine -->|Use Templates| Templates
    Guardian -->|Apply Rules| PolicyEngine
    Guardian -->|Check Address| Screener
    PolicyEngine -->|Verdict:<br/>Approve/Flag/Deny| GuardHook
    GuardHook -->|Display Results| SafeUI
    SafeUI -->|Show Risk Assessment| User
    User -->|Approve/Reject| SafeContract
    SafeContract -->|Execute if Approved| ETH
    SafeContract -->|Post-execution Hook| GuardHook
    Platform -.->|Real-time Monitoring| RiskDB

    classDef userClass fill:#e1f5ff,stroke:#0066cc,stroke-width:2px
    classDef safeClass fill:#12ff80,stroke:#00a854,stroke-width:2px
    classDef guardianClass fill:#fff3cd,stroke:#ff9900,stroke-width:3px
    classDef platformClass fill:#f8d7da,stroke:#cc0000,stroke-width:2px
    classDef chainClass fill:#e7e7e7,stroke:#666666,stroke-width:2px

    class User,SafeUI userClass
    class SafeContract,GuardHook safeClass
    class Guardian,Simulator,AIEngine,PolicyEngine,RiskDB guardianClass
    class Platform,Screener,Templates platformClass
    class ETH,L2,Other chainClass
```
